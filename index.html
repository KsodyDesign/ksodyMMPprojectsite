<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modernized Marketplace Package</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&family=Raleway:wght@300;400;500;600;700&family=Nunito:wght@300;400;600;700&family=Poppins:wght@300;400;500;600;700&family=Rubik:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@300;400;600;700&family=Outfit:wght@300;400;500;600;700&family=Manrope:wght@300;400;500;600;700&family=Work+Sans:wght@300;400;500;600;700&family=DM+Sans:wght@400;500;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <style>
        :root {
            --primary-color: #0066FF;
            --primary-dark: #0052CC;
            --secondary-color: #2C3E50;
            --accent-color: #00BFFF;
            --background-color: #F0F8FF;
            --card-color: #FFFFFF;
            --text-color: #333333;
            --shadow-color: rgba(0, 102, 255, 0.15);
            --transition-speed: 0.3s;
            --border-radius: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Animation */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.05), rgba(0, 191, 255, 0.05));
            opacity: 0.7;
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%230066FF' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            animation: bgMove 60s linear infinite;
        }

        @keyframes bgMove {
            0% {
                background-position: 0 0;
            }
            100% {
                background-position: 1000px 1000px;
            }
        }

        /* Main Container */
        .main-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        /* Header and Navigation */
        header {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem 0;
            position: relative;
            z-index: 10;
        }

        .navbar {
            width: 100%;
            max-width: 1200px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 0.8rem 2rem;
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.15);
            display: flex;
            justify-content: center;
            position: relative;
            border: 1px solid rgba(0, 102, 255, 0.1);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            list-style: none;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-links li a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .nav-links li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 50px;
            z-index: -1;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.5s ease;
        }

        .nav-links li a:hover {
            color: white;
        }

        .nav-links li a:hover::before {
            transform: scaleX(1);
            transform-origin: left;
        }

        .nav-links li.active a {
            color: white;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            box-shadow: 0 5px 15px rgba(0, 102, 255, 0.3);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero-title {
            font-size: 5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            opacity: 0;
            transform: translateY(50px);
            animation: fadeInUp 1s forwards 0.5s;
            text-shadow: 0 10px 30px rgba(0, 102, 255, 0.2);
            position: relative;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 1.5rem;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards 1s;
            position: relative;
        }

        .hero-subtitle a {
            color: var(--primary-color);
            text-decoration: none;
            position: relative;
            transition: color 0.3s ease;
        }

        .hero-subtitle a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
        }

        .hero-subtitle a:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Floating Elements Animation */
        .floating-element {
            position: absolute;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.2), rgba(0, 191, 255, 0.2));
            border-radius: 50%;
            animation: float 10s infinite ease-in-out;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .floating-element:nth-child(1) {
            top: 20%;
            left: 10%;
            width: 100px;
            height: 100px;
            animation-delay: 0s;
        }

        .floating-element:nth-child(2) {
            top: 40%;
            right: 15%;
            width: 80px;
            height: 80px;
            animation-delay: 2s;
        }

        .floating-element:nth-child(3) {
            bottom: 30%;
            left: 20%;
            width: 120px;
            height: 120px;
            animation-delay: 4s;
        }

        .floating-element:nth-child(4) {
            bottom: 20%;
            right: 10%;
            width: 70px;
            height: 70px;
            animation-delay: 6s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        /* Common Styles for All Tools */
        .tool-container {
            padding: 3rem 2rem;
            display: none;
            flex-direction: column;
            align-items: center;
            min-height: calc(100vh - 80px);
        }

        .tool-container.active {
            display: flex;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
            padding: 0.5rem 2rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 3px;
        }

        /* Prompt Collection Styles */
        .prompt-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .prompt-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 30px var(--shadow-color);
            border: 2px solid transparent;
            position: relative;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease, border-color 0.3s ease;
        }

        .prompt-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .prompt-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: var(--border-radius);
            padding: 2px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            z-index: 0;
        }

        .prompt-card:hover {
            box-shadow: 0 15px 40px rgba(0, 102, 255, 0.25);
            transform: translateY(-5px);
        }

        .prompt-header {
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .prompt-content {
            padding: 2rem;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-color);
            position: relative;
            z-index: 1;
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.25);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background var(--transition-speed);
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        .copy-btn svg {
            width: 18px;
            height: 18px;
            fill: white;
        }

        .copy-tooltip {
            position: absolute;
            top: -40px;
            right: 0;
            background: var(--secondary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.9rem;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-speed), visibility var(--transition-speed);
        }

        .copy-tooltip.active {
            opacity: 1;
            visibility: visible;
        }

        /* Typography Styles */
        .fonts-container {
            width: 100%;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .font-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 30px var(--shadow-color);
            border: 2px solid transparent;
            position: relative;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease, border-color 0.3s ease;
        }

        .font-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .font-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: var(--border-radius);
            padding: 2px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            z-index: 0;
        }

        .font-card:hover {
            box-shadow: 0 15px 40px rgba(0, 102, 255, 0.25);
            transform: translateY(-5px);
        }

        .font-header {
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .font-content {
            padding: 2rem;
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .font-preview {
            font-size: 1.7rem;
            line-height: 1.4;
            margin-bottom: 0.5rem;
            min-height: 150px;
        }

        .font-sample {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .font-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .font-tag {
            background-color: rgba(0, 102, 255, 0.1);
            color: var(--primary-color);
            font-size: 0.8rem;
            padding: 0.3rem 0.8rem;
            border-radius: 100px;
        }

        .download-btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all var(--transition-speed);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            text-decoration: none;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 102, 255, 0.3);
        }

        .download-btn svg {
            width: 18px;
            height: 18px;
            fill: white;
        }

        .filter-controls {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 3rem;
            width: 100%;
        }

        .filter-btn {
            background-color: white;
            border: 1px solid rgba(0, 102, 255, 0.3);
            color: var(--primary-color);
            padding: 0.5rem 1.2rem;
            border-radius: 100px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn:hover {
            background-color: rgba(0, 102, 255, 0.1);
        }

        .filter-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .search-container {
            width: 100%;
            max-width: 600px;
            margin-bottom: 2rem;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem 1.5rem;
            border-radius: 100px;
            border: 1px solid rgba(0, 102, 255, 0.3);
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 102, 255, 0.1);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.2);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            width: 20px;
            height: 20px;
        }

        .clear-search {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #888;
            font-size: 1.5rem;
            cursor: pointer;
            display: none;
        }

        /* AI Image Analysis Styles */
        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            border: 1px solid rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
        }

        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color), var(--primary-color));
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 40px;
            font-size: 1.2em;
            font-weight: 400;
        }

        .upload-area {
            border: 3px dashed var(--primary-color);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            cursor: pointer;
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            position: relative;
            overflow: hidden;
        }

        .upload-area:hover {
            border-color: var(--accent-color);
            background: linear-gradient(145deg, #edf2f7, #e2e8f0);
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 102, 255, 0.3);
        }

        .upload-area.dragover {
            border-color: var(--accent-color);
            background: linear-gradient(145deg, #e2e8f0, #cbd5e0);
            transform: scale(1.05);
        }

        .upload-icon {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .upload-text {
            color: #4a5568;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .upload-subtext {
            color: #718096;
            font-size: 1em;
        }

        #imageInput {
            display: none;
        }

        .preview-container {
            margin: 30px 0;
            text-align: center;
        }

        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            border: 3px solid #e2e8f0;
        }

        .analyze-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
            display: block;
            margin: 40px auto;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .analyze-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 102, 255, 0.6);
        }

        .analyze-btn:active {
            transform: translateY(0);
        }

        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 30px 0;
        }

        .spinner {
            border: 5px solid #e2e8f0;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #4a5568;
            font-size: 1.1em;
            font-weight: 600;
        }

        .result-container {
            margin-top: 40px;
            display: none;
        }

        .result-box {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border: 2px solid var(--primary-color);
            border-radius: 20px;
            padding: 30px;
            position: relative;
            min-height: 200px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .result-title {
            color: #4a5568;
            font-size: 1.5em;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-copy-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-copy-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 102, 255, 0.4);
        }

        .result-copy-btn svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        .result-text {
            color: #2d3748;
            line-height: 1.8;
            font-size: 1.1em;
            word-wrap: break-word;
            white-space: pre-wrap;
        }

        .confidence-indicator {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #e2e8f0, #cbd5e0);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .confidence-text {
            color: #4a5568;
            font-size: 0.95em;
            font-weight: 500;
        }

        .toast {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            font-weight: 600;
            opacity: 0;
            transform: translateY(-30px);
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 10px 25px rgba(72, 187, 120, 0.3);
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* OCR Styles */
        .drop-area {
            background-color: var(--card-color);
            border: 3px dashed #ccc;
            border-radius: 10px;
            padding: 2.5rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .drop-area:hover, .drop-area.dragover {
            border-color: var(--primary-color);
            background-color: rgba(0, 102, 255, 0.05);
        }

        .icon-container {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .drop-area h2 {
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .drop-area p {
            color: #5f6368;
            margin-bottom: 1rem;
        }

        .file-input {
            display: none;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }
        
        .btn-secondary:hover {
            background-color: rgba(0, 102, 255, 0.1);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .preview-title {
            font-size: 1.5rem;
            color: var(--text-color);
        }

        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
            box-shadow: 0 2px 5px var(--shadow-color);
        }

        .progress-container {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 4px;
            transition: width 0.4s ease;
        }

        .status {
            color: #5f6368;
            text-align: center;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .ocr-result-container {
            display: none;
            flex-direction: column;
            gap: 1rem;
            background-color: var(--card-color);
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px var(--shadow-color);
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }

        .ocr-result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .ocr-result-title {
            font-size: 1.5rem;
            color: var(--text-color);
        }

        .ocr-result-text {
            background-color: var(--background-color);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            justify-content: center;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .loader {
            display: none;
            width: 48px;
            height: 48px;
            border: 5px solid #e0e0e0;
            border-bottom-color: var(--primary-color);
            border-radius: 50%;
            margin: 1rem auto;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* TTF Font Tester Styles */
        .preview-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid rgba(0, 102, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .preview-section::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color), var(--primary-color));
            border-radius: 22px;
            z-index: -1;
            animation: borderRotate 4s linear infinite;
        }

        @keyframes borderRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .preview-text {
            font-size: 48px;
            font-weight: 400;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 15px;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #2c3e50;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            word-break: break-word;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
            position: relative;
        }

        .preview-text:hover {
            transform: scale(1.02);
            box-shadow: inset 0 2px 20px rgba(0, 102, 255, 0.1);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .control-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,249,250,0.9));
            border-radius: 18px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border: 1px solid rgba(0, 102, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .control-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.12);
        }

        .control-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 18px 18px 0 0;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .input-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #555;
            font-size: 16px;
        }

        .input-label i {
            color: var(--primary-color);
            font-size: 18px;
        }

        input[type="text"] {
            padding: 15px 20px;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #fff, #f8f9fa);
            position: relative;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(0, 102, 255, 0.15);
            transform: scale(1.02);
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 2;
        }

        .file-input-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 18px 25px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .file-input-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .file-input-button:hover::before {
            left: 100%;
        }

        .file-input-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0, 102, 255, 0.4);
        }

        .file-input-button.loaded {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .color-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .color-input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        input[type="color"] {
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        input[type="color"]:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .slider-container input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 5px;
            background: linear-gradient(90deg, #e1e8ed, var(--primary-color));
            outline: none;
            appearance: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.4);
        }

        .value-display {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            min-width: 70px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        }

        .style-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .style-btn {
            padding: 10px 15px;
            border: 2px solid #e1e8ed;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .style-btn:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .style-btn.active {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border-color: transparent;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 18px 30px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .save-button {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
        }

        .reset-button {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
        }

        .export-button {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }

        .action-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .action-btn:hover::before {
            left: 100%;
        }

        .font-info {
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.1), rgba(248, 249, 250, 0.1));
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(0, 102, 255, 0.2);
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ttf-progress-bar {
            width: 100%;
            height: 6px;
            background: #e1e8ed;
            border-radius: 3px;
            overflow: hidden;
            margin: 15px 0;
            display: none;
        }

        .ttf-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color), var(--primary-color));
            border-radius: 3px;
            width: 0%;
            transition: width 0.3s ease;
            animation: shimmer 2s infinite;
        }

        /* Photoshop Hotkeys Styles */
        .shortcut-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin-top: 1rem;
        }

        .category-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
            padding-bottom: 0.5rem;
        }

        .category-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 3px;
        }

        .shortcut-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 30px var(--shadow-color);
            border: 2px solid transparent;
            position: relative;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease, border-color 0.3s ease;
        }

        .shortcut-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .shortcut-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: var(--border-radius);
            padding: 2px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            z-index: 0;
        }

        .shortcut-card:hover {
            box-shadow: 0 15px 40px rgba(0, 102, 255, 0.25);
            transform: translateY(-5px);
        }

        .shortcut-header {
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            font-weight: 600;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .shortcut-content {
            padding: 2rem;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-color);
            position: relative;
            z-index: 1;
        }

        .shortcut-key {
            display: inline-block;
            background-color: #222222;
            color: #ffffff;
            border: 1px solid #444444;
            border-radius: 5px;
            padding: 2px 6px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            margin-right: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .no-results {
            text-align: center;
            padding: 3rem 0;
            font-size: 1.2rem;
            color: #777;
            display: none;
        }

        /* Footer Styles */
        footer {
            margin-top: 5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .author-link {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 5px 15px rgba(0, 102, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .author-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(0, 102, 255, 0.1), rgba(0, 191, 255, 0.1));
            transform: translateX(-100%);
            transition: transform 0.5s ease;
            z-index: -1;
        }

        .author-link:hover {
            color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 102, 255, 0.2);
        }

        .author-link:hover::before {
            transform: translateX(0);
        }

        .author-link svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .hero-title {
                font-size: 4rem;
            }
            
            .fonts-container {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 3rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .navbar {
                padding: 0.6rem 1.5rem;
                border-radius: 15px;
            }
            
            .nav-links {
                gap: 1rem;
            }
            
            .nav-links li a {
                padding: 0.4rem 0.8rem;
                font-size: 0.85rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .container {
                padding: 25px;
            }
            
            .preview-text {
                font-size: 32px;
                min-height: 80px;
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .prompt-header, .shortcut-header, .font-header {
                padding: 1.2rem 1.5rem;
                font-size: 1rem;
            }
            
            .prompt-content, .shortcut-content, .font-content {
                padding: 1.5rem;
            }
        }

        /* Specific font styles */
        .montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        
        .inter {
            font-family: 'Inter', sans-serif;
        }
        
        .roboto {
            font-family: 'Roboto', sans-serif;
        }
        
        .open-sans {
            font-family: 'Open Sans', sans-serif;
        }
        
        .raleway {
            font-family: 'Raleway', sans-serif;
        }
        
        .nunito {
            font-family: 'Nunito', sans-serif;
        }
        
        .poppins {
            font-family: 'Poppins', sans-serif;
        }
        
        .rubik {
            font-family: 'Rubik', sans-serif;
        }
        
        .source-sans {
            font-family: 'Source Sans Pro', sans-serif;
        }
        
        .jakarta {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        .outfit {
            font-family: 'Outfit', sans-serif;
        }
        
        .manrope {
            font-family: 'Manrope', sans-serif;
        }
        
        .work-sans {
            font-family: 'Work Sans', sans-serif;
        }
        
        .dm-sans {
            font-family: 'DM Sans', sans-serif;
        }
        
        .space-grotesk {
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .lexend {
            font-family: 'Lexend', sans-serif;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="bg-animation"></div>
    
    <header>
        <nav class="navbar">
            <ul class="nav-links" id="navLinks">
                <li data-target="home" class="active"><a href="#home">Главная</a></li>
                <li data-target="prompts"><a href="#prompts">Быстрые промпты</a></li>
                <li data-target="typography"><a href="#typography">Типографика</a></li>
                <li data-target="image-analyzer"><a href="#image-analyzer">Характеристики изображения</a></li>
                <li data-target="ocr"><a href="#ocr">OCR</a></li>
                <li data-target="ttf-tester"><a href="#ttf-tester">TTFTester</a></li>
                <li data-target="photoshop-hotkeys"><a href="#photoshop-hotkeys">Photoshop Hot Keys</a></li>
            </ul>
        </nav>
    </header>

    <div class="main-container">
        <!-- Hero Section -->
        <section id="home" class="hero tool-container active">
            <div class="floating-element"></div>
            <div class="floating-element"></div>
            <div class="floating-element"></div>
            <div class="floating-element"></div>

            <h1 class="hero-title">Modernized Marketplace Package</h1>
            <p class="hero-subtitle">By <a href="https://vk.com/ksodydesign?from=groups" target="_blank">Ksody Design</a></p>
        </section>

        <!-- Быстрые промпты -->
        <section id="prompts" class="tool-container">
            <h2 class="section-title">Быстрые промпты</h2>

            <div class="prompt-container">
                <!-- Мраморная текстура -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <span>Мраморная текстура (Flux Dev)</span>
                        <button class="copy-btn" onclick="copyPrompt(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            <span class="copy-tooltip">Скопировано!</span>
                        </button>
                    </div>
                    <div class="prompt-content">
                        High-contrast, 2D, black and white image featuring a detailed, realistic marble texture with subtle, organic patterns and gentle, sweeping veils of grey, evoking a sense of luxury and sophistication, with intricate, nuanced shading and delicate, lace-like details that suggest the intricate, crystalline structure of the stone.
                    </div>
                </div>

                <!-- Grunge фон -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <span>Grunge фон (Flux Dev)</span>
                        <button class="copy-btn" onclick="copyPrompt(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            <span class="copy-tooltip">Скопировано!</span>
                        </button>
                    </div>
                    <div class="prompt-content">
                        Seamless light gray grunge texture with subtle concrete-like noise, soft cloudy patches and fine grain, highly detailed, flat surface, no color variations, tileable background, white cement wall style.
                    </div>
                </div>

                <!-- Каменная порода -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <span>Каменная порода (Flux Dev)</span>
                        <button class="copy-btn" onclick="copyPrompt(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            <span class="copy-tooltip">Скопировано!</span>
                        </button>
                    </div>
                    <div class="prompt-content">
                        A rough-textured, dark grey stone rock formation sits prominently in the center, filling the frame, with no background or surroundings visible, showcasing its natural, earthy tones and intricate patterns, with subtle hints of brown and beige, and a slight sheen that catches the light, evoking a sense of ancient, weathered beauty.
                    </div>
                </div>

                <!-- Растения 1 -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <span>Растения 1 (Leonardo Phoenix 1.0)</span>
                        <button class="copy-btn" onclick="copyPrompt(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            <span class="copy-tooltip">Скопировано!</span>
                        </button>
                    </div>
                    <div class="prompt-content">
                        A lone, vibrant green plant with lush foliage and delicate stems, set against a stark white or transparent background, free from any distractions or ambiance, allowing the viewer's focus to solely be on the intricate textures and natural beauty of the plant itself, with warm, soft lighting that accentuates its gentle curves and brings out the subtle nuances in its tone, capturing the subtle play of light and shadow on its leaves and stems.
                    </div>
                </div>

                <!-- Растения 2 -->
                <div class="prompt-card">
                    <div class="prompt-header">
                        <span>Растения 2 (Leonardo Phoenix 1.0)</span>
                        <button class="copy-btn" onclick="copyPrompt(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            <span class="copy-tooltip">Скопировано!</span>
                        </button>
                    </div>
                    <div class="prompt-content">
                        A serene, isolated green plant laid gently on a neutral, seamless background, its leaves a vibrant lime green with subtle variations in tone, gently curled and twisted in natural, organic shapes, with delicate, almost translucent stems and a few scattered, tiny white flowers adding a touch of elegance, the overall mood evoking a sense of peacefulness and simplicity.
                    </div>
                </div>
            </div>
        </section>

        <!-- Типографика -->
        <section id="typography" class="tool-container">
            <h2 class="section-title">Передовые шрифты для инфографики 2025</h2>
            <p class="subtitle">Коллекция современных шрифтов для создания эффективной инфографики на маркетплейсах OZON и Wildberries</p>

            <div class="search-container">
                <input type="text" class="search-input" placeholder="Поиск шрифтов..." id="fontSearchInput">
            </div>

            <div class="filter-controls">
                <button class="filter-btn active" data-filter="all">Все шрифты</button>
                <button class="filter-btn" data-filter="sans-serif">Sans-Serif</button>
                <button class="filter-btn" data-filter="geometric">Геометрические</button>
                <button class="filter-btn" data-filter="humanist">Гуманистические</button>
                <button class="filter-btn" data-filter="display">Display</button>
                <button class="filter-btn" data-filter="modern">Современные 2025</button>
            </div>

            <div class="fonts-container">
                <!-- Montserrat -->
                <div class="font-card" data-categories="sans-serif geometric">
                    <div class="font-header">
                        <span>Montserrat</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview montserrat">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample montserrat">
                            Отличный выбор для заголовков и акцентных элементов инфографики. Хорошо смотрится как в крупных размерах, так и для небольших подписей.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Геометрический</span>
                            <span class="font-tag">Современный</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Montserrat" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Inter -->
                <div class="font-card" data-categories="sans-serif geometric">
                    <div class="font-header">
                        <span>Inter</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview inter">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample inter">
                            Современный шрифт с отличной читаемостью даже при малых размерах. Идеален для таблиц, списков и основного текста в инфографике.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Геометрический</span>
                            <span class="font-tag">Нейтральный</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Inter" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Roboto -->
                <div class="font-card" data-categories="sans-serif humanist">
                    <div class="font-header">
                        <span>Roboto</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview roboto">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample roboto">
                            Универсальный шрифт с отличной поддержкой кириллицы. Хорошо работает для любого типа контента в инфографике маркетплейсов.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Универсальный</span>
                            <span class="font-tag">Адаптивный</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Roboto" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Open Sans -->
                <div class="font-card" data-categories="sans-serif humanist">
                    <div class="font-header">
                        <span>Open Sans</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview open-sans">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample open-sans">
                            Шрифт с отличной читаемостью и дружелюбным характером. Подходит для описания товаров и ценовых предложений.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Гуманистический</span>
                            <span class="font-tag">Нейтральный</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Open+Sans" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Outfit -->
                <div class="font-card" data-categories="sans-serif geometric modern">
                    <div class="font-header">
                        <span>Outfit</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview outfit">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample outfit">
                            Современный геометрический шрифт с чистыми линиями и отличной разборчивостью. Идеален для инфографики 2025 года.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Геометрический</span>
                            <span class="font-tag">Современный 2025</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Outfit" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Manrope -->
                <div class="font-card" data-categories="sans-serif geometric modern">
                    <div class="font-header">
                        <span>Manrope</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview manrope">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample manrope">
                            Ультрасовременный шрифт с идеальным балансом между геометрией и человечностью. Отличный выбор для премиальной инфографики.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Современный 2025</span>
                            <span class="font-tag">Премиум</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Manrope" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Space Grotesk -->
                <div class="font-card" data-categories="sans-serif display modern">
                    <div class="font-header">
                        <span>Space Grotesk</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview space-grotesk">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample space-grotesk">
                            Футуристический шрифт с высоким контрастом и уникальным характером. Идеально для технологичных товаров и современной инфографики.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Современный 2025</span>
                            <span class="font-tag">Технологичный</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Space+Grotesk" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Work Sans -->
                <div class="font-card" data-categories="sans-serif humanist modern">
                    <div class="font-header">
                        <span>Work Sans</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview work-sans">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample work-sans">
                            Чистый и функциональный шрифт с отличной разборчивостью. Идеален для информационно-насыщенной инфографики и описаний продуктов.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Гуманистический</span>
                            <span class="font-tag">Современный 2025</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Work+Sans" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- DM Sans -->
                <div class="font-card" data-categories="sans-serif geometric modern">
                    <div class="font-header">
                        <span>DM Sans</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview dm-sans">
                            OZON & Wildberries<br>
                            <span style="font-weight: 400">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample dm-sans">
                            Лаконичный и современный шрифт с отличной поддержкой кириллицы. Подходит для любых элементов инфографики и карточек товаров.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Минималистичный</span>
                            <span class="font-tag">Современный 2025</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/DM+Sans" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>

                <!-- Lexend -->
                <div class="font-card" data-categories="sans-serif humanist modern">
                    <div class="font-header">
                        <span>Lexend</span>
                    </div>
                    <div class="font-content">
                        <div class="font-preview lexend">
                            OZON & Wildberries<br>
                            <span style="font-weight: 300">Aa Бб Вв Гг 1234</span><br>
                            <span style="font-weight: 700">Aa Бб Вв Гг 1234</span>
                        </div>
                        <div class="font-sample lexend">
                            Шрифт, оптимизированный для максимальной читабельности. Специально разработан для быстрого сканирования информации, что делает его идеальным для маркетплейсов.
                        </div>
                        <div class="font-tags">
                            <span class="font-tag">Sans-Serif</span>
                            <span class="font-tag">Высокая читабельность</span>
                            <span class="font-tag">Современный 2025</span>
                        </div>
                        <a href="https://fonts.google.com/specimen/Lexend" class="download-btn" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                            </svg>
                            Скачать шрифт
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Характеристики изображения -->
        <section id="image-analyzer" class="tool-container">
            <h2 class="section-title">AI Vision Analyzer</h2>
            <div class="subtitle">Детальный анализ изображений с помощью искусственного интеллекта</div>
            
            <div class="container">
                <div class="upload-area" onclick="document.getElementById('imageInput').click()" 
                     ondragover="handleDragOver(event)" 
                     ondragleave="handleDragLeave(event)" 
                     ondrop="handleDrop(event)">
                    <span class="upload-icon">📸</span>
                    <div class="upload-text">Загрузите изображение для анализа</div>
                    <div class="upload-subtext">Поддерживаются форматы: JPG, PNG, GIF, WebP, BMP</div>
                </div>
                
                <input type="file" id="imageInput" accept="image/*" onchange="handleImageSelect(event)">
                
                <div class="preview-container" id="previewContainer"></div>
                
                <button class="analyze-btn" id="analyzeBtn" onclick="analyzeImage()" disabled>
                    🔍 Анализировать изображение
                </button>
                
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <div class="loading-text">Выполняется детальный анализ изображения...</div>
                </div>
                
                <div class="result-container" id="resultContainer">
                    <div class="result-box">
                        <div class="result-header">
                            <div class="result-title">🎯 Результат анализа изображения</div>
                            <button class="result-copy-btn" onclick="copyResult()">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                                </svg>
                                Копировать
                            </button>
                        </div>
                        <div class="result-text" id="resultText"></div>
                        <div class="confidence-indicator" id="confidenceIndicator">
                            <div class="confidence-text" id="confidenceText"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="toast" id="toast">✅ Результат скопирован в буфер обмена!</div>
        </section>

        <!-- OCR -->
        <section id="ocr" class="tool-container">
            <h2 class="section-title">Распознавание текста</h2>
            <div class="subtitle" id="typed-output"></div>
            
            <div class="container">
                <div class="drop-area" id="dropArea">
                    <div class="icon-container">
                        <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                        </svg>
                    </div>
                    <h2>Загрузите изображение</h2>
                    <p>Перетащите файл сюда или нажмите для выбора</p>
                    <button class="btn pulse" id="selectFileBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"/>
                        </svg>
                        Выбрать файл
                    </button>
                    <input type="file" class="file-input" id="fileInput" accept="image/*">
                </div>

                <div class="preview-container" id="ocrPreviewContainer" style="display: none;">
                    <div class="preview-header">
                        <h3 class="preview-title">Предпросмотр</h3>
                        <button class="btn btn-secondary" id="changeImageBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M0 0h24v24H0V0z" fill="none"/>
                                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 9h7V2l-2.35 4.35z"/>
                            </svg>
                            Изменить
                        </button>
                    </div>
                    
                    <img class="image-preview" id="imagePreview" alt="Предпросмотр изображения">
                    
                    <div class="progress-container" id="progressContainer">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    
                    <p class="status" id="status">Готов к распознаванию текста</p>
                    
                    <div class="loader" id="loader"></div>
                    
                    <button class="btn" id="recognizeBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
                        </svg>
                        Распознать текст
                    </button>
                </div>

                <div class="ocr-result-container" id="ocrResultContainer">
                    <div class="ocr-result-header">
                        <h3 class="ocr-result-title">Результат</h3>
                        <button class="btn btn-secondary" id="copyBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M0 0h24v24H0V0z" fill="none"/>
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            Копировать
                        </button>
                    </div>
                    
                    <pre class="ocr-result-text" id="ocrResultText"></pre>
                    
                    <div class="actions">
                        <div class="btn-group">
                            <button class="btn" id="newImageBtn">
                                <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M0 0h24v24H0V0z" fill="none"/>
                                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                </svg>
                                Новое изображение
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TTF Tester -->
        <section id="ttf-tester" class="tool-container">
            <h2 class="section-title">TTF Font Tester Pro</h2>
            <div class="subtitle">Профессиональный инструмент для тестирования и предварительного просмотра шрифтов</div>
            
            <div class="container">
                <div class="preview-section">
                    <div class="preview-text" id="previewText">Введите текст для предварительного просмотра</div>
                    <div class="ttf-progress-bar" id="ttfProgressBar">
                        <div class="ttf-progress-fill" id="ttfProgressFill"></div>
                    </div>
                </div>

                <div class="controls-grid">
                    <div class="control-card">
                        <div class="input-group">
                            <label class="input-label" for="textInput">
                                <i class="fas fa-edit"></i>
                                Введите ваш текст:
                            </label>
                            <input type="text" id="textInput" placeholder="Напишите здесь ваш текст..." value="Введите текст для предварительного просмотра">
                        </div>
                    </div>

                    <div class="control-card">
                        <div class="input-group">
                            <label class="input-label" for="fontFile">
                                <i class="fas fa-upload"></i>
                                Загрузите шрифт:
                            </label>
                            <div class="file-input-wrapper">
                                <input type="file" id="fontFile" accept=".ttf,.otf,.woff,.woff2">
                                <div class="file-input-button" id="fileButton">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    Выберите файл шрифта
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="control-card">
                        <div class="input-group">
                            <label class="input-label">
                                <i class="fas fa-text-height"></i>
                                Размер шрифта:
                            </label>
                            <div class="slider-container">
                                <input type="range" id="fontSizeSlider" min="16" max="120" value="48">
                                <div class="value-display" id="fontSizeDisplay">48px</div>
                            </div>
                        </div>
                    </div>

                    <div class="control-card">
                        <div class="input-group">
                            <label class="input-label">
                                <i class="fas fa-palette"></i>
                                Цветовая схема:
                            </label>
                            <div class="color-controls">
                                <div class="color-input-group">
                                    <input type="color" id="textColor" value="#2c3e50">
                                    <small>Текст</small>
                                </div>
                                <div class="color-input-group">
                                    <input type="color" id="bgColor" value="#ffffff">
                                    <small>Фон</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="control-card">
                        <div class="input-group">
                            <label class="input-label">
                                <i class="fas fa-magic"></i>
                                Стили шрифта:
                            </label>
                            <div class="style-buttons">
                                <button class="style-btn" data-style="normal">Обычный</button>
                                <button class="style-btn" data-style="bold">Жирный</button>
                                <button class="style-btn" data-style="italic">Курсив</button>
                                <button class="style-btn" data-style="underline">Подчеркнутый</button>
                            </div>
                        </div>
                    </div>

                    <div class="control-card">
                        <div class="input-group">
                            <label class="input-label">
                                <i class="fas fa-adjust"></i>
                                Прозрачность:
                            </label>
                            <div class="slider-container">
                                <input type="range" id="opacitySlider" min="10" max="100" value="100">
                                <div class="value-display" id="opacityDisplay">100%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="font-info" id="fontInfo">
                    <h3><i class="fas fa-info-circle"></i> Информация о шрифте</h3>
                    <p id="fontDetails">Загрузите шрифт для получения подробной информации</p>
                </div>

                <div class="action-buttons">
                    <button class="action-btn save-button" id="saveButton" disabled>
                        <i class="fas fa-download"></i>
                        Сохранить PNG
                    </button>
                    <button class="action-btn export-button" id="exportButton" disabled>
                        <i class="fas fa-file-export"></i>
                        Экспорт SVG
                    </button>
                    <button class="action-btn reset-button" id="resetButton">
                        <i class="fas fa-undo"></i>
                        Сбросить
                    </button>
                </div>
            </div>

            <canvas id="canvas" style="display: none;"></canvas>
        </section>

        <!-- Photoshop Hot Keys -->
        <section id="photoshop-hotkeys" class="tool-container">
            <h2 class="section-title">Горячие клавиши Photoshop</h2>
            
            <div class="search-container">
                <input type="text" class="search-input" id="shortcutSearch" placeholder="Поиск по действию, названию или комбинации клавиш..." autocomplete="off">
                <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <button class="clear-search" id="clearSearch">×</button>
            </div>

            <div id="noResults" class="no-results">
                <p>Ничего не найдено. Попробуйте другой запрос.</p>
            </div>

            <div class="shortcut-container" id="shortcutContainer">
                <!-- Категории и горячие клавиши будут добавлены с помощью JavaScript -->
            </div>
        </section>
    </div>

    <footer>
        <a href="https://vk.com/ksodydesign?from=groups" class="author-link" target="_blank">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M15.07 2H8.93C3.33 2 2 3.33 2 8.93v6.14C2 20.67 3.33 22 8.93 22h6.14c5.6 0 6.93-1.33 6.93-6.93V8.93C22 3.33 20.67 2 15.07 2z"/>
                <path fill="white" d="M11.49 7.74c-2.48 0-3.75 1.29-3.75 2.47 0 .65.27 1.24.82 1.47.09.04.17.01.2-.1l.07-.31c.03-.1 0-.14-.06-.21-.18-.22-.3-.5-.3-.9 0-1.16.87-2.19 2.27-2.19 1.24 0 1.91.76 1.91 1.77 0 1.33-.59 2.46-1.46 2.46-.48 0-.84-.4-.72-.88.14-.59.41-1.22.41-1.65 0-.38-.21-.7-.63-.7-.5 0-.9.52-.9 1.21 0 .44.15.74.15.74l-.6 2.54c-.18.76-.03 1.69-.01 1.78.01.06.08.07.11.03.05-.06.62-.77.82-1.48.06-.22.32-1.37.32-1.37.16.3.62.57 1.11.57 1.46 0 2.45-1.33 2.45-3.12 0-1.35-1.14-2.6-2.89-2.6z"/>
            </svg>
            by Ksody Design
        </a>
    </footer>

    <script>
        // Navigation
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('#navLinks li');
            const toolContainers = document.querySelectorAll('.tool-container');

            // Function to show a specific section
            function showSection(sectionId) {
                // Hide all sections
                toolContainers.forEach(container => {
                    container.classList.remove('active');
                });

                // Show the selected section
                const selectedSection = document.getElementById(sectionId);
                if (selectedSection) {
                    selectedSection.classList.add('active');
                }

                // Update navigation active state
                navLinks.forEach(link => {
                    if (link.getAttribute('data-target') === sectionId) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
            }

            // Handle navigation clicks
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetSection = this.getAttribute('data-target');
                    showSection(targetSection);
                    
                    // Update the URL hash
                    window.location.hash = targetSection;
                });
            });

            // Check URL hash on load
            if (window.location.hash) {
                const targetSection = window.location.hash.substring(1);
                showSection(targetSection);
            }

            // Initialize specific sections
            initPromptsSection();
            initTypographySection();
            initImageAnalyzerSection();
            initOCRSection();
            initTTFTesterSection();
            initPhotoshopHotkeysSection();
        });

        // Быстрые промпты
        function initPromptsSection() {
            // Анимация появления карточек при скроллинге
            const cards = document.querySelectorAll('.prompt-card');
            
            function checkCards() {
                const triggerBottom = window.innerHeight * 0.9;
                
                cards.forEach(card => {
                    const cardTop = card.getBoundingClientRect().top;
                    
                    if (cardTop < triggerBottom) {
                        card.classList.add('visible');
                    }
                });
            }
            
            // Начальная проверка
            setTimeout(checkCards, 100);
            
            // Проверка при скролле
            window.addEventListener('scroll', checkCards);

            // Задержка для красивой анимации
            cards.forEach((card, index) => {
                card.style.transitionDelay = `${index * 0.15}s`;
            });

            // Функция копирования промпта
            window.copyPrompt = function(button) {
                const promptContent = button.closest('.prompt-header').nextElementSibling.textContent.trim();
                
                // Создаем временный элемент для копирования
                const tempElement = document.createElement('textarea');
                tempElement.value = promptContent;
                document.body.appendChild(tempElement);
                tempElement.select();
                document.execCommand('copy');
                document.body.removeChild(tempElement);
                
                // Показываем уведомление
                const tooltip = button.querySelector('.copy-tooltip');
                tooltip.classList.add('active');
                
                // Скрываем уведомление через 2 секунды
                setTimeout(() => {
                    tooltip.classList.remove('active');
                }, 2000);
            }
        }

        // Типографика
        function initTypographySection() {
            // Анимация появления карточек при скроллинге
            const fontCards = document.querySelectorAll('.font-card');
            
            function checkFontCards() {
                const triggerBottom = window.innerHeight * 0.9;
                
                fontCards.forEach(card => {
                    const cardTop = card.getBoundingClientRect().top;
                    
                    if (cardTop < triggerBottom) {
                        card.classList.add('visible');
                    }
                });
            }
            
            // Начальная проверка
            setTimeout(checkFontCards, 100);
            
            // Проверка при скролле
            window.addEventListener('scroll', checkFontCards);

            // Задержка для красивой анимации
            fontCards.forEach((card, index) => {
                card.style.transitionDelay = `${index * 0.1}s`;
            });

            // Фильтрация шрифтов
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Удаляем активный класс со всех кнопок
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Добавляем активный класс на нажатую кнопку
                    button.classList.add('active');
                    
                    // Получаем значение фильтра
                    const filterValue = button.getAttribute('data-filter');
                    
                    // Фильтруем карточки
                    fontCards.forEach(card => {
                        if (filterValue === 'all' || card.getAttribute('data-categories').includes(filterValue)) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
            
            // Поиск шрифтов
            const searchInput = document.getElementById('fontSearchInput');
            
            searchInput.addEventListener('input', () => {
                const searchValue = searchInput.value.toLowerCase();
                
                fontCards.forEach(card => {
                    const fontName = card.querySelector('.font-header span').textContent.toLowerCase();
                    const fontTags = card.querySelectorAll('.font-tag');
                    let matchesTag = false;
                    
                    fontTags.forEach(tag => {
                        if (tag.textContent.toLowerCase().includes(searchValue)) {
                            matchesTag = true;
                        }
                    });
                    
                    if (fontName.includes(searchValue) || matchesTag) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        }

        // Характеристики изображения
        function initImageAnalyzerSection() {
            let selectedImage = null;
            let imageBase64 = null;

            // Список моделей для анализа изображений
            const AI_MODELS = [
                {
                    name: "BLIP Image Captioning Large",
                    url: "https://api-inference.huggingface.co/models/Salesforce/blip-image-captioning-large",
                    type: "captioning"
                },
                {
                    name: "BLIP-2 OPT 2.7B",
                    url: "https://api-inference.huggingface.co/models/Salesforce/blip2-opt-2.7b",
                    type: "captioning"
                },
                {
                    name: "ViT GPT2 Image Captioning",
                    url: "https://api-inference.huggingface.co/models/nlpconnect/vit-gpt2-image-captioning",
                    type: "captioning"
                },
                {
                    name: "GIT Large COCO",
                    url: "https://api-inference.huggingface.co/models/microsoft/git-large-coco",
                    type: "captioning"
                }
            ];

            window.handleDragOver = function(event) {
                event.preventDefault();
                event.currentTarget.classList.add('dragover');
            }

            window.handleDragLeave = function(event) {
                event.currentTarget.classList.remove('dragover');
            }

            window.handleDrop = function(event) {
                event.preventDefault();
                event.currentTarget.classList.remove('dragover');
                
                const files = event.dataTransfer.files;
                if (files.length > 0 && files[0].type.startsWith('image/')) {
                    handleImageFile(files[0]);
                }
            }

            window.handleImageSelect = function(event) {
                const file = event.target.files[0];
                if (file) {
                    handleImageFile(file);
                }
            }

            function handleImageFile(file) {
                selectedImage = file;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageBase64 = e.target.result;
                    displayPreview(e.target.result);
                    document.getElementById('analyzeBtn').disabled = false;
                };
                reader.readAsDataURL(file);
            }

            function displayPreview(imageSrc) {
                const previewContainer = document.getElementById('previewContainer');
                previewContainer.innerHTML = `<img src="${imageSrc}" alt="Preview" class="preview-image">`;
            }

            window.analyzeImage = async function() {
                if (!imageBase64) return;

                const analyzeBtn = document.getElementById('analyzeBtn');
                const loading = document.getElementById('loading');
                const resultContainer = document.getElementById('resultContainer');
                
                analyzeBtn.disabled = true;
                loading.style.display = 'block';
                resultContainer.style.display = 'none';

                try {
                    // Пытаемся получить детальное описание с помощью нескольких AI моделей
                    const analysisResults = await Promise.allSettled([
                        analyzeWithModel(AI_MODELS[0]),
                        analyzeWithModel(AI_MODELS[1]),
                        analyzeWithModel(AI_MODELS[2]),
                        analyzeWithModel(AI_MODELS[3])
                    ]);

                    // Собираем успешные результаты
                    const successfulResults = analysisResults
                        .filter(result => result.status === 'fulfilled' && result.value)
                        .map(result => result.value);

                    if (successfulResults.length > 0) {
                        const combinedDescription = await generateDetailedDescription(successfulResults);
                        displayResult(combinedDescription, "Высокая");
                    } else {
                        // Если AI модели не работают, используем локальный анализ
                        const localDescription = await performLocalAnalysis();
                        displayResult(localDescription, "Средняя");
                    }
                    
                } catch (error) {
                    console.error('Ошибка анализа:', error);
                    const localDescription = await performLocalAnalysis();
                    displayResult(localDescription, "Средняя");
                } finally {
                    loading.style.display = 'none';
                    analyzeBtn.disabled = false;
                }
            }

            async function analyzeWithModel(model) {
                try {
                    const base64Data = imageBase64.split(',')[1];
                    
                    const response = await fetch(model.url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'User-Agent': 'AI-Vision-Analyzer/1.0'
                        },
                        body: JSON.stringify({
                            inputs: base64Data,
                            parameters: {
                                max_length: 500,
                                num_beams: 5,
                                temperature: 0.7,
                                do_sample: true
                            }
                        })
                    });

                    if (response.ok) {
                        const result = await response.json();
                        if (Array.isArray(result) && result[0] && result[0].generated_text) {
                            return {
                                model: model.name,
                                description: result[0].generated_text.trim()
                            };
                        }
                    }
                    return null;
                } catch (error) {
                    console.error(`Ошибка модели ${model.name}:`, error);
                    return null;
                }
            }

            async function generateDetailedDescription(results) {
                // Объединяем результаты разных моделей в детальное описание
                const descriptions = results.map(r => r.description);
                const uniqueElements = new Set();
                
                // Извлекаем уникальные элементы из всех описаний
                descriptions.forEach(desc => {
                    const words = desc.toLowerCase().split(/[,\s]+/);
                    words.forEach(word => {
                        if (word.length > 3) uniqueElements.add(word);
                    });
                });

                const mainDescription = descriptions[0] || "Изображение содержит различные визуальные элементы";
                
                return `🔍 ДЕТАЛЬНЫЙ АНАЛИЗ ИЗОБРАЖЕНИЯ

📋 Основное описание:
${mainDescription}

🎯 Обнаруженные элементы и детали:
${generateElementsList(descriptions)}

🌟 Композиция и визуальные характеристики:
${await analyzeComposition()}

🎨 Цветовая палитра и атмосфера:
${await analyzeColors()}

📐 Технические характеристики:
${getTechnicalSpecs()}

💡 Контекст и интерпретация:
${generateContextualAnalysis(descriptions)}

🔬 Уровень детализации: Высокий
📊 Модели ИИ использованы: ${results.length} из ${AI_MODELS.length}

Анализ выполнен с использованием передовых алгоритмов компьютерного зрения и обработки естественного языка.`;
            }

            function generateElementsList(descriptions) {
                const elements = [];
                const commonObjects = ['person', 'people', 'man', 'woman', 'child', 'building', 'house', 'car', 'tree', 'flower', 'animal', 'dog', 'cat', 'sky', 'water', 'mountain', 'road', 'street', 'window', 'door', 'table', 'chair', 'book', 'phone', 'computer', 'food', 'plate', 'cup', 'hand', 'face', 'hair', 'eye', 'smile', 'clothing', 'shirt', 'dress', 'hat', 'grass', 'snow', 'sun', 'cloud', 'beach', 'forest', 'city', 'room', 'kitchen', 'bedroom', 'bathroom', 'garden', 'park', 'bridge', 'river', 'lake', 'ocean', 'bird', 'fish', 'horse', 'bicycle', 'motorcycle', 'bus', 'truck', 'train', 'airplane', 'boat', 'camera', 'glasses', 'watch', 'bag', 'shoes', 'flower', 'plant', 'leaf', 'branch', 'rock', 'stone', 'sand', 'fire', 'light', 'shadow', 'mirror', 'glass', 'metal', 'wood', 'plastic', 'paper', 'fabric', 'leather'];
                
                descriptions.forEach(desc => {
                    commonObjects.forEach(obj => {
                        if (desc.toLowerCase().includes(obj)) {
                            if (!elements.includes(obj)) {
                                elements.push(obj);
                            }
                        }
                    });
                });

                return elements.length > 0 ? 
                    `• ${elements.slice(0, 15).map(el => el.charAt(0).toUpperCase() + el.slice(1)).join('\n• ')}` : 
                    '• Различные объекты и структуры\n• Визуальные элементы и детали\n• Композиционные компоненты';
            }

            async function analyzeComposition() {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.src = imageBase64;
                    img.onload = function() {
                        const aspectRatio = img.naturalWidth / img.naturalHeight;
                        let composition = '';
                        
                        if (aspectRatio > 1.5) {
                            composition = '• Горизонтальная панорамная композиция\n• Широкоформатное расположение элементов\n• Акцент на ширину кадра';
                        } else if (aspectRatio < 0.7) {
                            composition = '• Вертикальная портретная композиция\n• Вытянутое расположение по высоте\n• Фокус на вертикальных элементах';
                        } else {
                            composition = '• Сбалансированная квадратная композиция\n• Гармоничное соотношение сторон\n• Центрированное расположение объектов';
                        }
                        
                        resolve(composition);
                    };
                });
            }

            async function analyzeColors() {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.src = imageBase64;
                    img.onload = function() {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        canvas.width = 100;
                        canvas.height = 100;
                        
                        ctx.drawImage(img, 0, 0, 100, 100);
                        const imageData = ctx.getImageData(0, 0, 100, 100);
                        const colors = analyzeImageColors(imageData.data);
                        
                        const colorDescription = `• Доминирующие цвета: ${colors.dominant.join(', ')}
• Яркость изображения: ${colors.brightness}
• Контрастность: ${colors.contrast}
• Насыщенность цветов: ${colors.saturation}
• Цветовая температура: ${colors.temperature}
• Общая атмосфера: ${colors.mood}`;
                        
                        resolve(colorDescription);
                    };
                });
            }

            function analyzeImageColors(imageData) {
                let r = 0, g = 0, b = 0;
                let maxR = 0, maxG = 0, maxB = 0;
                let minR = 255, minG = 255, minB = 255;
                
                for (let i = 0; i < imageData.length; i += 4) {
                    r += imageData[i];
                    g += imageData[i + 1];
                    b += imageData[i + 2];
                    
                    maxR = Math.max(maxR, imageData[i]);
                    maxG = Math.max(maxG, imageData[i + 1]);
                    maxB = Math.max(maxB, imageData[i + 2]);
                    
                    minR = Math.min(minR, imageData[i]);
                    minG = Math.min(minG, imageData[i + 1]);
                    minB = Math.min(minB, imageData[i + 2]);
                }
                
                const pixelCount = imageData.length / 4;
                r = Math.round(r / pixelCount);
                g = Math.round(g / pixelCount);
                b = Math.round(b / pixelCount);
                
                const brightness = Math.round((r + g + b) / 3);
                const contrast = Math.round(((maxR + maxG + maxB) - (minR + minG + minB)) / 6);
                const saturation = Math.round(Math.max(r, g, b) - Math.min(r, g, b));
                
                const dominantColors = [];
                if (r > g && r > b && r > 100) dominantColors.push('красный');
                if (g > r && g > b && g > 100) dominantColors.push('зеленый');
                if (b > r && b > g && b > 100) dominantColors.push('синий');
                if (Math.abs(r - g) < 30 && Math.abs(g - b) < 30 && Math.abs(r - b) < 30) {
                    if (brightness > 180) dominantColors.push('белый');
                    else if (brightness < 80) dominantColors.push('черный');
                    else dominantColors.push('серый');
                }
                if ((r > g && r > b && g > b) || (r > 120 && g > 60 && b < 80)) dominantColors.push('оранжевый/желтый');
                
                const temperature = r > b ? 'теплая' : b > r ? 'холодная' : 'нейтральная';
                const mood = brightness > 150 ? 'светлая и позитивная' : brightness < 100 ? 'темная и драматичная' : 'умеренная и сбалансированная';
                
                return {
                    dominant: dominantColors.length > 0 ? dominantColors : ['разнообразные'],
                    brightness: brightness > 180 ? 'высокая' : brightness > 100 ? 'средняя' : 'низкая',
                    contrast: contrast > 100 ? 'высокий' : contrast > 50 ? 'средний' : 'низкий',
                    saturation: saturation > 100 ? 'высокая' : saturation > 50 ? 'средняя' : 'низкая',
                    temperature: temperature,
                    mood: mood
                };
            }

            function getTechnicalSpecs() {
                const img = new Image();
                img.src = imageBase64;
                const width = img.naturalWidth || 'неизвестно';
                const height = img.naturalHeight || 'неизвестно';
                const fileSize = selectedImage ? (selectedImage.size / 1024 / 1024).toFixed(2) : 'неизвестно';
                const format = selectedImage ? selectedImage.type.split('/')[1].toUpperCase() : 'неизвестно';
                
                return `• Разрешение: ${width} × ${height} пикселей
• Формат файла: ${format}
• Размер файла: ${fileSize} MB
• Соотношение сторон: ${width && height ? (width/height).toFixed(2) : 'неизвестно'}:1
• Качество: ${width * height > 2000000 ? 'высокое' : width * height > 500000 ? 'среднее' : 'стандартное'}`;
            }

            function generateContextualAnalysis(descriptions) {
                const analysis = [];
                const allText = descriptions.join(' ').toLowerCase();
                
                // Определяем контекст
                if (allText.includes('indoor') || allText.includes('room') || allText.includes('kitchen') || allText.includes('bedroom')) {
                    analysis.push('• Внутреннее пространство или интерьер');
                }
                if (allText.includes('outdoor') || allText.includes('sky') || allText.includes('tree') || allText.includes('street')) {
                    analysis.push('• Наружная среда или пейзаж');
                }
                if (allText.includes('person') || allText.includes('people') || allText.includes('man') || allText.includes('woman')) {
                    analysis.push('• Присутствие людей в кадре');
                }
                if (allText.includes('animal') || allText.includes('dog') || allText.includes('cat') || allText.includes('bird')) {
                    analysis.push('• Животные или живая природа');
                }
                if (allText.includes('food') || allText.includes('meal') || allText.includes('eating') || allText.includes('restaurant')) {
                    analysis.push('• Кулинарная тематика или питание');
                }
                if (allText.includes('car') || allText.includes('vehicle') || allText.includes('transportation') || allText.includes('road')) {
                    analysis.push('• Транспортные средства или дорожная инфраструктура');
                }
                
                return analysis.length > 0 ? analysis.join('\n') : '• Разнообразные визуальные элементы\n• Комплексная сцена с множественными объектами\n• Богатое содержание для анализа';
            }

            async function performLocalAnalysis() {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.src = imageBase64;
                    img.onload = function() {
                        const width = img.naturalWidth;
                        const height = img.naturalHeight;
                        const aspectRatio = (width / height).toFixed(2);
                        
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        canvas.width = 200;
                        canvas.height = 200;
                        ctx.drawImage(img, 0, 0, 200, 200);
                        
                        const imageData = ctx.getImageData(0, 0, 200, 200);
                        const colors = analyzeImageColors(imageData.data);
                        
                        const localAnalysis = `🔍 ЛОКАЛЬНЫЙ АНАЛИЗ ИЗОБРАЖЕНИЯ

📊 Технические характеристики:
• Разрешение: ${width} × ${height} пикселей
• Соотношение сторон: ${aspectRatio}:1
• Формат: ${selectedImage.type.split('/')[1].toUpperCase()}
• Размер: ${(selectedImage.size / 1024 / 1024).toFixed(2)} MB

🎨 Анализ цветовой палитры:
• Доминирующие цвета: ${colors.dominant.join(', ')}
• Яркость: ${colors.brightness}
• Контрастность: ${colors.contrast}
• Насыщенность: ${colors.saturation}
• Цветовая температура: ${colors.temperature}

📐 Композиционный анализ:
• Ориентация: ${width > height ? 'горизонтальная (ландшафт)' : height > width ? 'вертикальная (портрет)' : 'квадратная'}
• Пропорции: ${getProportionDescription(aspectRatio)}
• Качество: ${width * height > 2000000 ? 'высокое разрешение' : width * height > 500000 ? 'среднее разрешение' : 'стандартное разрешение'}

🎯 Визуальные характеристики:
• Общая атмосфера: ${colors.mood}
• Стиль композиции: ${getCompositionStyle(aspectRatio, colors)}
• Предполагаемое назначение: ${getImagePurpose(aspectRatio, colors)}

⚡ Метод анализа: Локальные алгоритмы компьютерного зрения
📊 Уровень детализации: Базовый технический анализ

Примечание: Для более детального описания содержимого изображения рекомендуется использование специализированных AI-моделей компьютерного зрения.`;

                        resolve(localAnalysis);
                    };
                });
            }

            function getProportionDescription(ratio) {
                const r = parseFloat(ratio);
                if (r > 2) return 'широкая панорама';
                if (r > 1.5) return 'широкоформатное';
                if (r > 1.2) return 'слегка вытянутое по ширине';
                if (r > 0.8) return 'близкое к квадрату';
                if (r > 0.6) return 'слегка вытянутое по высоте';
                return 'высокий портрет';
            }

            function getCompositionStyle(ratio, colors) {
                const styles = [];
                if (parseFloat(ratio) > 1.5) styles.push('панорамный');
                if (colors.contrast === 'высокий') styles.push('контрастный');
                if (colors.saturation === 'высокая') styles.push('яркий');
                if (colors.brightness === 'высокая') styles.push('светлый');
                if (colors.brightness === 'низкая') styles.push('драматичный');
                return styles.length > 0 ? styles.join(', ') : 'сбалансированный';
            }

            function getImagePurpose(ratio, colors) {
                const purposes = [];
                if (parseFloat(ratio) > 1.8) purposes.push('баннер или заголовок');
                if (parseFloat(ratio) < 0.7) purposes.push('мобильный контент');
                if (colors.brightness === 'высокая' && colors.saturation === 'высокая') purposes.push('реклама или маркетинг');
                if (colors.contrast === 'высокий') purposes.push('полиграфия');
                return purposes.length > 0 ? purposes.join(', ') : 'универсальное использование';
            }

            function displayResult(description, confidence) {
                const resultContainer = document.getElementById('resultContainer');
                const resultText = document.getElementById('resultText');
                const confidenceText = document.getElementById('confidenceText');
                
                resultText.textContent = description;
                confidenceText.textContent = `🎯 Уровень достоверности анализа: ${confidence} | 🕒 Время анализа: ${new Date().toLocaleTimeString()}`;
                
                resultContainer.style.display = 'block';
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            }

            window.copyResult = function() {
                const resultText = document.getElementById('resultText').textContent;
                navigator.clipboard.writeText(resultText).then(() => {
                    showToast();
                }).catch(() => {
                    // Fallback для старых браузеров
                    const textArea = document.createElement('textarea');
                    textArea.value = resultText;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showToast();
                });
            }

            function showToast() {
                const toast = document.getElementById('toast');
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }

            // Предотвращение стандартного поведения drag & drop
            document.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('drop', function(e) {
                e.preventDefault();
            });
        }

        // OCR (Код полностью заменен на предоставленный рабочий код)
        function initOCRSection() {
            const dropArea = document.getElementById('dropArea');
            const fileInput = document.getElementById('fileInput');
            const selectFileBtn = document.getElementById('selectFileBtn');
            const imagePreview = document.getElementById('imagePreview');
            const previewContainer = document.getElementById('ocrPreviewContainer');
            const resultContainer = document.getElementById('ocrResultContainer');
            const recognizeBtn = document.getElementById('recognizeBtn');
            const changeImageBtn = document.getElementById('changeImageBtn');
            const copyBtn = document.getElementById('copyBtn');
            const newImageBtn = document.getElementById('newImageBtn');
            const resultText = document.getElementById('ocrResultText');
            const progressBar = document.getElementById('progressBar');
            const progressContainer = document.getElementById('progressContainer');
            const status = document.getElementById('status');
            const loader = document.getElementById('loader');
            const typedOutput = document.getElementById('typed-output');

            // Инициализация typed.js для анимации текста в заголовке
            const typed = new Typed('#typed-output', {
                strings: [
                    'Извлекайте текст из изображений',
                    'Работает с рукописным текстом',
                    'Распознает документы',
                    'Поддерживает разные языки',
                    'Простой и удобный инструмент'
                ],
                typeSpeed: 50,
                backSpeed: 30,
                backDelay: 2000,
                startDelay: 500,
                loop: true
            });

            // Обработчики перетаскивания
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });

            function highlight() {
                dropArea.classList.add('dragover');
            }

            function unhighlight() {
                dropArea.classList.remove('dragover');
            }

            // Обработка событий загрузки файла
            dropArea.addEventListener('drop', handleDrop, false);
            selectFileBtn.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileSelect);
            recognizeBtn.addEventListener('click', recognizeText);
            changeImageBtn.addEventListener('click', () => fileInput.click());
            newImageBtn.addEventListener('click', resetApp);
            copyBtn.addEventListener('click', copyToClipboard);

            // Обработка перетаскивания файла
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }

            // Обработка выбора файла
            function handleFileSelect(e) {
                const files = e.target.files;
                handleFiles(files);
            }

            // Обработка файлов
            function handleFiles(files) {
                if (files.length === 0) return;
                
                const file = files[0];
                
                // Проверяем, что это изображение
                if (!file.type.match('image.*')) {
                    showNotification('Пожалуйста, выберите изображение', 'error');
                    return;
                }
                
                // Отображаем предпросмотр
                const reader = new FileReader();
                
                reader.onload = (e) => {
                    imagePreview.src = e.target.result;
                    
                    // Показываем контейнер предпросмотра с анимацией
                    previewContainer.style.display = 'flex';
                    setTimeout(() => {
                        previewContainer.style.opacity = '1';
                        previewContainer.style.transform = 'translateY(0)';
                        
                        // Скроллим к контейнеру
                        previewContainer.scrollIntoView({ behavior: 'smooth' });
                    }, 10);
                };
                
                reader.readAsDataURL(file);
                
                // Скрываем результаты предыдущего распознавания
                resultContainer.style.opacity = '0';
                resultContainer.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    resultContainer.style.display = 'none';
                    resultText.textContent = '';
                }, 300);
            }

            // Распознавание текста
            function recognizeText() {
                if (!imagePreview.src) {
                    showNotification('Сначала загрузите изображение', 'error');
                    return;
                }
                
                // Подготовка UI
                progressBar.style.width = '0%';
                progressContainer.style.display = 'block';
                status.textContent = 'Подготовка распознавания...';
                loader.style.display = 'block';
                recognizeBtn.disabled = true;
                
                // Создаем конфетти-эффект для начала процесса
                createConfetti(5);
                
                // Используем Tesseract.js для распознавания текста
                Tesseract.recognize(
                    imagePreview.src,
                    'rus+eng', // Языки для распознавания (русский + английский)
                    {
                        logger: m => {
                            console.log(m);
                            if (m.status === 'recognizing text') {
                                const progress = Math.round(m.progress * 100);
                                progressBar.style.width = `${progress}%`;
                                status.textContent = `Распознавание текста: ${progress}%`;
                            } else if (m.status === 'initializing api') {
                                status.textContent = 'Инициализация...';
                            } else if (m.status === 'loading language model') {
                                status.textContent = 'Загрузка языковой модели...';
                                progressBar.style.width = '25%';
                            } else if (m.status === 'initializing tesseract') {
                                status.textContent = 'Инициализация Tesseract...';
                                progressBar.style.width = '35%';
                            } else if (m.status === 'initialized tesseract') {
                                status.textContent = 'Tesseract инициализирован';
                                progressBar.style.width = '40%';
                            } else if (m.status === 'analyzing') {
                                status.textContent = 'Анализ изображения...';
                                progressBar.style.width = '50%';
                            } else if (m.status === 'recognizing text') {
                                status.textContent = `Распознавание текста: ${Math.round(m.progress * 100)}%`;
                                progressBar.style.width = `${50 + m.progress * 50}%`;
                            }
                        }
                    }
                ).then(({ data: { text } }) => {
                    // Отображение результата
                    resultText.textContent = text;
                    status.textContent = 'Распознавание завершено!';
                    progressBar.style.width = '100%';
                    
                    // Показываем контейнер результата с анимацией
                    resultContainer.style.display = 'flex';
                    setTimeout(() => {
                        resultContainer.style.opacity = '1';
                        resultContainer.style.transform = 'translateY(0)';
                        
                        // Скроллим к контейнеру
                        resultContainer.scrollIntoView({ behavior: 'smooth' });
                        
                        // Создаем конфетти-эффект для завершения
                        createConfetti(20);
                        
                        // Анимация подсветки результата
                        anime({
                            targets: '.ocr-result-text',
                            backgroundColor: [
                                { value: 'rgba(0, 102, 255, 0.2)', duration: 300 },
                                { value: document.querySelector('.ocr-result-text').style.backgroundColor || 'var(--background-color)', duration: 700 }
                            ],
                            easing: 'easeOutExpo'
                        });
                    }, 10);
                    
                }).catch(err => {
                    console.error('Ошибка распознавания:', err);
                    status.textContent = 'Ошибка при распознавании текста';
                    showNotification('Не удалось распознать текст. Попробуйте другое изображение.', 'error');
                }).finally(() => {
                    loader.style.display = 'none';
                    recognizeBtn.disabled = false;
                });
            }

            // Копирование в буфер обмена
            function copyToClipboard() {
                if (!resultText.textContent) return;
                
                navigator.clipboard.writeText(resultText.textContent)
                    .then(() => {
                        // Анимация успешного копирования
                        anime({
                            targets: '#copyBtn',
                            scale: [1, 1.2, 1],
                            rotate: ['0deg', '5deg', '-5deg', '0deg'],
                            duration: 600,
                            easing: 'easeInOutSine'
                        });
                        
                        showNotification('Текст скопирован в буфер обмена', 'success');
                    })
                    .catch(err => {
                        console.error('Не удалось скопировать текст: ', err);
                        showNotification('Не удалось скопировать текст', 'error');
                    });
            }

            // Сброс приложения для новой загрузки
            function resetApp() {
                // Сбрасываем выбранный файл
                fileInput.value = '';
                
                // Скрываем контейнеры с анимацией
                previewContainer.style.opacity = '0';
                previewContainer.style.transform = 'translateY(20px)';
                resultContainer.style.opacity = '0';
                resultContainer.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    previewContainer.style.display = 'none';
                    resultContainer.style.display = 'none';
                    
                    // Сбрасываем состояние приложения
                    imagePreview.src = '';
                    resultText.textContent = '';
                    status.textContent = 'Готов к распознаванию текста';
                    progressBar.style.width = '0%';
                    
                    // Прокручиваем страницу вверх
                    dropArea.scrollIntoView({ behavior: 'smooth' });
                    
                    // Анимация секции загрузки
                    anime({
                        targets: '.drop-area',
                        scale: [1, 1.03, 1],
                        duration: 800,
                        easing: 'easeInOutSine'
                    });
                    
                    // Добавляем пульсацию кнопке выбора файла
                    selectFileBtn.classList.add('pulse');
                    setTimeout(() => {
                        selectFileBtn.classList.remove('pulse');
                    }, 3000);
                }, 300);
            }

            // Создание элементов конфетти
            function createConfetti(count) {
                const colors = ['#0066FF', '#00BFFF', '#2C3E50', '#FFFFFF'];
                
                for (let i = 0; i < count; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    document.body.appendChild(confetti);
                    
                    // Рандомное начальное положение
                    const startX = Math.random() * window.innerWidth;
                    const startY = Math.random() * window.innerHeight / 3;
                    
                    // Анимация
                    anime({
                        targets: confetti,
                        left: startX,
                        top: startY,
                        width: anime.random(5, 20),
                        height: anime.random(5, 20),
                        opacity: [0, 1, 0],
                        translateX: anime.random(-100, 100),
                        translateY: anime.random(50, 200),
                        rotate: anime.random(0, 360),
                        duration: anime.random(1000, 2500),
                        easing: 'easeOutExpo',
                        complete: function(anim) {
                            confetti.remove();
                        }
                    });
                }
            }

            // Показ уведомлений
            function showNotification(message, type = 'info') {
                // Создаем элемент уведомления, если его нет
                let notification = document.getElementById('notification');
                if (!notification) {
                    notification = document.createElement('div');
                    notification.id = 'notification';
                    notification.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        right: 20px;
                        padding: 12px 20px;
                        background-color: var(--card-color);
                        color: var(--text-color);
                        border-left: 4px solid var(--primary-color);
                        border-radius: 4px;
                        box-shadow: 0 4px 12px var(--shadow-color);
                        z-index: 1000;
                        transform: translateY(100px);
                        opacity: 0;
                        transition: transform 0.3s ease, opacity 0.3s ease;
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        max-width: 80%;
                        word-break: break-word;
                    `;
                    document.body.appendChild(notification);
                }
                
                // Устанавливаем цвет в зависимости от типа
                if (type === 'error') {
                    notification.style.borderLeftColor = 'var(--accent-color)';
                } else if (type === 'success') {
                    notification.style.borderLeftColor = 'var(--accent-color)';
                } else {
                    notification.style.borderLeftColor = 'var(--primary-color)';
                }
                
                // Иконка в зависимости от типа
                let icon = '';
                if (type === 'error') {
                    icon = '<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24" fill="var(--accent-color)"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>';
                } else if (type === 'success') {
                    icon = '<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24" fill="var(--accent-color)"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>';
                } else {
                    icon = '<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24" fill="var(--primary-color)"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>';
                }
                
                // Устанавливаем содержимое
                notification.innerHTML = `${icon} <span>${message}</span>`;
                
                // Показываем уведомление
                setTimeout(() => {
                    notification.style.transform = 'translateY(0)';
                    notification.style.opacity = '1';
                }, 10);
                
                // Скрываем через 3 секунды
                setTimeout(() => {
                    notification.style.transform = 'translateY(100px)';
                    notification.style.opacity = '0';
                    
                    setTimeout(() => {
                        // Удаляем элемент после завершения анимации
                        if (notification && notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }
        }

        // TTF Font Tester
        function initTTFTesterSection() {
            const previewText = document.getElementById('previewText');
            const textInput = document.getElementById('textInput');
            const fontFile = document.getElementById('fontFile');
            const fileButton = document.getElementById('fileButton');
            const saveButton = document.getElementById('saveButton');
            const exportButton = document.getElementById('exportButton');
            const resetButton = document.getElementById('resetButton');
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const fontSizeSlider = document.getElementById('fontSizeSlider');
            const fontSizeDisplay = document.getElementById('fontSizeDisplay');
            const textColorInput = document.getElementById('textColor');
            const bgColorInput = document.getElementById('bgColor');
            const opacitySlider = document.getElementById('opacitySlider');
            const opacityDisplay = document.getElementById('opacityDisplay');
            const styleButtons = document.querySelectorAll('.style-btn');
            const fontInfo = document.getElementById('fontInfo');
            const fontDetails = document.getElementById('fontDetails');
            const ttfProgressBar = document.getElementById('ttfProgressBar');
            const ttfProgressFill = document.getElementById('ttfProgressFill');

            let currentFontFamily = 'Segoe UI';
            let currentFontSize = 48;
            let currentTextColor = '#2c3e50';
            let currentBgColor = '#ffffff';
            let currentOpacity = 100;
            let currentStyles = {
                fontWeight: 'normal',
                fontStyle: 'normal',
                textDecoration: 'none'
            };

            // Функция обновления предварительного просмотра
            function updatePreview() {
                previewText.style.fontSize = currentFontSize + 'px';
                previewText.style.color = currentTextColor;
                previewText.style.background = currentBgColor;
                previewText.style.opacity = currentOpacity / 100;
                previewText.style.fontWeight = currentStyles.fontWeight;
                previewText.style.fontStyle = currentStyles.fontStyle;
                previewText.style.textDecoration = currentStyles.textDecoration;
                previewText.style.fontFamily = currentFontFamily;
            }

            // Обновление размера шрифта
            fontSizeSlider.addEventListener('input', function() {
                currentFontSize = parseInt(this.value);
                fontSizeDisplay.textContent = currentFontSize + 'px';
                updatePreview();
            });

            // Обновление прозрачности
            opacitySlider.addEventListener('input', function() {
                currentOpacity = parseInt(this.value);
                opacityDisplay.textContent = currentOpacity + '%';
                updatePreview();
            });

            // Обновление текста
            textInput.addEventListener('input', function() {
                previewText.textContent = this.value || 'Введите текст для предварительного просмотра';
            });

            // Обновление цветов
            textColorInput.addEventListener('change', function() {
                currentTextColor = this.value;
                updatePreview();
            });

            bgColorInput.addEventListener('change', function() {
                currentBgColor = this.value;
                updatePreview();
            });

            // Обработка стилей
            styleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const style = this.dataset.style;
                    
                    // Переключение активного состояния
                    this.classList.toggle('active');
                    
                    // Применение стилей
                    switch(style) {
                        case 'bold':
                            currentStyles.fontWeight = this.classList.contains('active') ? 'bold' : 'normal';
                            break;
                        case 'italic':
                            currentStyles.fontStyle = this.classList.contains('active') ? 'italic' : 'normal';
                            break;
                        case 'underline':
                            currentStyles.textDecoration = this.classList.contains('active') ? 'underline' : 'none';
                            break;
                    }
                    
                    updatePreview();
                });
            });

            // Загрузка шрифта
            fontFile.addEventListener('change', function() {
                const file = this.files[0];
                if (!file) return;

                // Показать прогресс
                ttfProgressBar.style.display = 'block';
                let progress = 0;
                const progressInterval = setInterval(() => {
                    progress += 10;
                    ttfProgressFill.style.width = progress + '%';
                    if (progress >= 90) clearInterval(progressInterval);
                }, 100);

                const reader = new FileReader();
                reader.onload = function(e) {
                    const fontData = e.target.result;
                    const fontName = 'CustomFont_' + Date.now();
                    
                    // Создаем CSS с шрифтом
                    const style = document.createElement('style');
                    style.textContent = `
                        @font-face {
                            font-family: '${fontName}';
                            src: url(${fontData}) format('truetype');
                        }
                    `;
                    document.head.appendChild(style);
                    
                    // Применяем шрифт
                    setTimeout(() => {
                        currentFontFamily = fontName;
                        updatePreview();
                        
                        // Завершение прогресса
                        ttfProgressFill.style.width = '100%';
                        setTimeout(() => {
                            ttfProgressBar.style.display = 'none';
                            ttfProgressFill.style.width = '0%';
                        }, 500);
                        
                        // Обновляем кнопку и включаем сохранение
                        fileButton.innerHTML = '<i class="fas fa-check-circle"></i> Шрифт загружен: ' + file.name;
                        fileButton.classList.add('loaded');
                        saveButton.disabled = false;
                        exportButton.disabled = false;
                        
                        // Показываем информацию о шрифте
                        fontInfo.style.display = 'block';
                        fontDetails.innerHTML = `
                            <strong>Имя файла:</strong> ${file.name}<br>
                            <strong>Размер:</strong> ${(file.size / 1024).toFixed(2)} KB<br>
                            <strong>Тип:</strong> ${file.type || 'font/ttf'}<br>
                            <strong>Загружен:</strong> ${new Date().toLocaleString()}
                        `;
                    }, 100);
                };
                reader.readAsDataURL(file);
            });

            // Сохранение в PNG
            saveButton.addEventListener('click', function() {
                const text = previewText.textContent;
                
                // Создаем временный элемент для измерения
                const tempElement = document.createElement('div');
                tempElement.style.fontFamily = currentFontFamily;
                tempElement.style.fontSize = currentFontSize + 'px';
                tempElement.style.fontWeight = currentStyles.fontWeight;
                tempElement.style.fontStyle = currentStyles.fontStyle;
                tempElement.style.position = 'absolute';
                tempElement.style.visibility = 'hidden';
                tempElement.style.whiteSpace = 'nowrap';
                tempElement.textContent = text;
                document.body.appendChild(tempElement);
                
                const textWidth = tempElement.offsetWidth;
                const textHeight = tempElement.offsetHeight;
                document.body.removeChild(tempElement);
                
                // Настройка canvas
                const padding = 80;
                canvas.width = textWidth + padding * 2;
                canvas.height = textHeight + padding * 2;
                
                // Рисование фона
                ctx.fillStyle = currentBgColor;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Рисование текста
                ctx.fillStyle = currentTextColor;
                ctx.font = `${currentStyles.fontStyle} ${currentStyles.fontWeight} ${currentFontSize}px ${currentFontFamily}`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.globalAlpha = currentOpacity / 100;
                
                ctx.fillText(text, canvas.width / 2, canvas.height / 2);
                
                // Скачивание
                const link = document.createElement('a');
                link.download = `font-preview-${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png', 1.0);
                link.click();
            });

            // Экспорт в SVG
            exportButton.addEventListener('click', function() {
                const text = previewText.textContent;
                const svgContent = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="800" height="400" viewBox="0 0 800 400">
                        <rect width="100%" height="100%" fill="${currentBgColor}"/>
                        <text x="400" y="200" 
                              font-family="${currentFontFamily}" 
                              font-size="${currentFontSize}" 
                              font-weight="${currentStyles.fontWeight}"
                              font-style="${currentStyles.fontStyle}"
                              text-decoration="${currentStyles.textDecoration}"
                              fill="${currentTextColor}" 
                              text-anchor="middle" 
                              dominant-baseline="middle"
                              opacity="${currentOpacity / 100}">
                            ${text}
                        </text>
                    </svg>
                `;
                
                const blob = new Blob([svgContent], { type: 'image/svg+xml' });
                const link = document.createElement('a');
                link.download = `font-preview-${Date.now()}.svg`;
                link.href = URL.createObjectURL(blob);
                link.click();
            });

            // Сброс настроек
            resetButton.addEventListener('click', function() {
                // Сброс всех значений
                currentFontFamily = 'Segoe UI';
                currentFontSize = 48;
                currentTextColor = '#2c3e50';
                currentBgColor = '#ffffff';
                currentOpacity = 100;
                currentStyles = {
                    fontWeight: 'normal',
                    fontStyle: 'normal',
                    textDecoration: 'none'
                };
                
                // Сброс элементов управления
                textInput.value = 'Введите текст для предварительного просмотра';
                fontSizeSlider.value = 48;
                fontSizeDisplay.textContent = '48px';
                textColorInput.value = '#2c3e50';
                bgColorInput.value = '#ffffff';
                opacitySlider.value = 100;
                opacityDisplay.textContent = '100%';
                
                // Сброс стилей
                styleButtons.forEach(btn => btn.classList.remove('active'));
                
                // Сброс файла и кнопок
                fontFile.value = '';
                fileButton.innerHTML = '<i class="fas fa-cloud-upload-alt"></i> Выберите файл шрифта';
                fileButton.classList.remove('loaded');
                saveButton.disabled = true;
                exportButton.disabled = true;
                fontInfo.style.display = 'none';
                
                // Обновление превью
                previewText.textContent = 'Введите текст для предварительного просмотра';
                updatePreview();
            });

            // Инициализация
            updatePreview();
        }

        // Photoshop Hotkeys
        function initPhotoshopHotkeysSection() {
            // Данные о горячих клавишах Photoshop
            const shortcutData = [
                {
                    category: "Работа со слоями",
                    shortcuts: [
                        {
                            keys: "Ctrl + Shift + N",
                            description: "Создать новый слой",
                            keywords: ["новый слой", "создать слой", "добавить слой", "layer", "new layer", "создание слоя"]
                        },
                        {
                            keys: "Ctrl + J",
                            description: "Дублировать слой (или выделенную область)",
                            keywords: ["дублировать", "копировать слой", "duplicate", "копия слоя", "клонировать слой", "копирование слоя", "дубликат"]
                        },
                        {
                            keys: "Ctrl + G",
                            description: "Группировать слои",
                            keywords: ["группа", "группировать", "объединить в группу", "создать группу", "сгруппировать", "group", "folder"]
                        },
                        {
                            keys: "Ctrl + Shift + G",
                            description: "Разгруппировать",
                            keywords: ["разгруппировать", "убрать из группы", "распаковать группу", "ungroup", "разгруппировка"]
                        },
                        {
                            keys: "Ctrl + Alt + Shift + E",
                            description: "Создать объединённый слой поверх всех (Stamp Visible)",
                            keywords: ["объединить", "объединенный слой", "stamp visible", "сведение", "объединение слоев", "объединить видимые", "все слои", "общий слой"]
                        },
                        {
                            keys: "Alt + [ / ]",
                            description: "Переключение между слоями (вверх/вниз)",
                            keywords: ["переключение слоев", "перемещение между слоями", "навигация по слоям", "следующий слой", "предыдущий слой", "выбор слоя"]
                        }
                    ]
                },
                {
                    category: "Трансформация и выравнивание",
                    shortcuts: [
                        {
                            keys: "Ctrl + T",
                            description: "Свободная трансформация",
                            keywords: ["трансформация", "transform", "масштаб", "масштабирование", "размер", "изменить размер", "поворот", "вращение", "свободное преобразование", "сжатие", "растяжение", "scale", "resize", "rotate", "наклон", "перспектива", "искажение", "деформация"]
                        },
                        {
                            keys: "Ctrl + Shift + T",
                            description: "Повторить последнюю трансформацию",
                            keywords: ["повторить трансформацию", "последняя трансформация", "repeat transform", "transform again", "повтор трансформации", "снова трансформировать"]
                        },
                        {
                            keys: "Ctrl + Alt + Shift + T",
                            description: "Дублировать + повторить трансформацию (удобно для паттернов)",
                            keywords: ["дублировать трансформацию", "копировать трансформацию", "duplicate transform", "паттерн", "узор", "повторяющийся элемент", "копия с трансформацией"]
                        }
                    ]
                },
                {
                    category: "Работа с выделением",
                    shortcuts: [
                        {
                            keys: "Ctrl + A",
                            description: "Выделить всё",
                            keywords: ["выделить все", "select all", "полное выделение", "выделение всего", "выбрать всё"]
                        },
                        {
                            keys: "Ctrl + D",
                            description: "Снять выделение",
                            keywords: ["снять выделение", "deselect", "отменить выделение", "сбросить выделение", "убрать выделение", "отмена выделения"]
                        },
                        {
                            keys: "Ctrl + Shift + I",
                            description: "Инвертировать выделение",
                            keywords: ["инвертировать", "invert", "инверсия выделения", "обратное выделение", "инверсное выделение", "инвертирование"]
                        }
                    ]
                }
            ];

            const shortcutContainer = document.getElementById('shortcutContainer');
            const searchInput = document.getElementById('shortcutSearch');
            const clearSearchBtn = document.getElementById('clearSearch');
            const noResultsElement = document.getElementById('noResults');

            // Функция для создания карточки с горячей клавишей
            function createShortcutCard(shortcut) {
                const card = document.createElement('div');
                card.className = 'shortcut-card';
                card.setAttribute('data-keys', shortcut.keys.toLowerCase());
                card.setAttribute('data-description', shortcut.description.toLowerCase());
                card.setAttribute('data-keywords', shortcut.keywords ? shortcut.keywords.join(' ').toLowerCase() : '');

                card.innerHTML = `
                    <div class="shortcut-header">
                        <span>${formatShortcutKeys(shortcut.keys)}</span>
                        <button class="copy-btn" onclick="copyShortcut(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                            <span class="copy-tooltip">Скопировано!</span>
                        </button>
                    </div>
                    <div class="shortcut-content">
                        ${shortcut.description}
                    </div>
                `;
                return card;
            }

            // Форматирование клавиш для отображения
            function formatShortcutKeys(keys) {
                return keys.split('+').map(key => {
                    const trimmedKey = key.trim();
                    return `<span class="shortcut-key">${trimmedKey}</span>`;
                }).join(' + ');
            }

            // Инициализация страницы с горячими клавишами
            function initShortcuts() {
                shortcutContainer.innerHTML = '';
                
                shortcutData.forEach(category => {
                    const categoryElement = document.createElement('div');
                    categoryElement.className = 'category';
                    
                    const categoryTitle = document.createElement('h2');
                    categoryTitle.className = 'category-title';
                    categoryTitle.textContent = category.category;
                    categoryElement.appendChild(categoryTitle);
                    
                    const shortcutsWrapper = document.createElement('div');
                    shortcutsWrapper.className = 'shortcuts-wrapper';
                    shortcutsWrapper.style.display = 'flex';
                    shortcutsWrapper.style.flexDirection = 'column';
                    shortcutsWrapper.style.gap = '1.5rem';
                    
                    category.shortcuts.forEach((shortcut, index) => {
                        const card = createShortcutCard(shortcut);
                        card.style.transitionDelay = `${index * 0.1}s`;
                        shortcutsWrapper.appendChild(card);
                    });
                    
                    categoryElement.appendChild(shortcutsWrapper);
                    shortcutContainer.appendChild(categoryElement);
                });
                
                // Инициализация видимости карточек
                setTimeout(checkCards, 100);
            }

            // Функция поиска
            function searchShortcuts(query) {
                if (!query.trim()) {
                    // Если поиск пустой, показываем все категории и карточки
                    document.querySelectorAll('.category').forEach(category => {
                        category.style.display = 'block';
                    });
                    
                    document.querySelectorAll('.shortcut-card').forEach(card => {
                        card.style.display = 'block';
                    });
                    
                    noResultsElement.style.display = 'none';
                    return;
                }
                
                query = query.toLowerCase().trim();
                
                // Синонимы и связанные слова для улучшения поиска
                const searchTerms = expandSearchTerms(query);
                
                let hasResults = false;
                
                // Скрываем все категории сначала
                document.querySelectorAll('.category').forEach(category => {
                    category.style.display = 'none';
                });
                
                // Для каждой категории проверяем совпадения
                shortcutData.forEach((category, categoryIndex) => {
                    const categoryElement = document.querySelectorAll('.category')[categoryIndex];
                    let categoryHasMatches = false;
                    
                    category.shortcuts.forEach((shortcut, shortcutIndex) => {
                        const cardElement = categoryElement.querySelectorAll('.shortcut-card')[shortcutIndex];
                        let match = false;
                        
                        // Проверяем каждый расширенный поисковый термин
                        for (const term of searchTerms) {
                            if (
                                shortcut.keys.toLowerCase().includes(term) ||
                                shortcut.description.toLowerCase().includes(term) ||
                                (shortcut.keywords && shortcut.keywords.some(keyword => keyword.toLowerCase().includes(term)))
                            ) {
                                match = true;
                                break;
                            }
                        }
                        
                        if (match) {
                            cardElement.style.display = 'block';
                            categoryHasMatches = true;
                            hasResults = true;
                        } else {
                            cardElement.style.display = 'none';
                        }
                    });
                    
                    if (categoryHasMatches) {
                        categoryElement.style.display = 'block';
                    }
                });
                
                // Показываем или скрываем сообщение "ничего не найдено"
                noResultsElement.style.display = hasResults ? 'none' : 'block';
            }

            // Расширение поисковых терминов с синонимами и связанными словами
            function expandSearchTerms(query) {
                const terms = query.split(/\s+/);
                const expandedTerms = new Set();
                
                // Добавляем исходные термины
                terms.forEach(term => {
                    expandedTerms.add(term);
                    
                    // Словарь синонимов и связанных слов
                    const synonymMap = {
                        'трансформ': ['transform', 'трансформация', 'масштаб', 'resize', 'размер', 'scale', 'преобразование', 'деформация', 'свободная', 'масштабирование', 'изменение', 'ctrl+t'],
                        'масштаб': ['resize', 'размер', 'scale', 'увеличить', 'уменьшить', 'изменить', 'transform', 'трансформация', 'ctrl+t', 'zoom'],
                        'размер': ['resize', 'масштаб', 'scale', 'увеличить', 'уменьшить', 'изменить', 'transform', 'трансформация', 'ctrl+t'],
                        'zoom': ['масштаб', 'увеличить', 'уменьшить', 'приблизить', 'отдалить', 'ctrl++', 'ctrl+-'],
                        'слой': ['layer', 'layers', 'слои', 'ctrl+j', 'дублировать', 'новый слой', 'копировать', 'group', 'группа'],
                        'копировать': ['дублировать', 'duplicate', 'копия', 'клонировать', 'ctrl+j', 'copy'],
                        'дублировать': ['копировать', 'duplicate', 'копия', 'клонировать', 'ctrl+j', 'copy'],
                        'группа': ['group', 'группировать', 'сгруппировать', 'folder', 'папка', 'ctrl+g'],
                        'объединить': ['merge', 'stamp', 'visible', 'объединение', 'объединённый', 'сведение', 'ctrl+alt+shift+e', 'stamp visible'],
                        'выделение': ['selection', 'select', 'выделить', 'выбрать', 'марш']
                    };
                    
                    // Проверяем, есть ли синонимы для текущего термина
                    Object.keys(synonymMap).forEach(key => {
                        // Если термин содержит ключ или ключ содержит термин
                        if (term.includes(key) || key.includes(term)) {
                            // Добавляем все синонимы
                            synonymMap[key].forEach(synonym => {
                                expandedTerms.add(synonym);
                            });
                        }
                    });
                    
                    // Добавляем специальные обработки для клавиш
                    if (term.includes('ctrl+t') || term === 'ctrl+t' || term === 'трансформация' || term === 'transform') {
                        expandedTerms.add('ctrl+t');
                        expandedTerms.add('transform');
                        expandedTerms.add('трансформация');
                        expandedTerms.add('масштаб');
                        expandedTerms.add('масштабирование');
                        expandedTerms.add('resize');
                    }
                    
                    if (term.includes('ctrl+alt+shift+e') || term === 'объединить' || term === 'stamp visible') {
                        expandedTerms.add('ctrl+alt+shift+e');
                        expandedTerms.add('объединить');
                        expandedTerms.add('stamp visible');
                        expandedTerms.add('объединенный слой');
                        expandedTerms.add('общий слой');
                    }
                });
                
                return Array.from(expandedTerms);
            }

            // Функция для проверки видимости карточек при скролле
            function checkCards() {
                const triggerBottom = window.innerHeight * 0.9;
                
                document.querySelectorAll('.shortcut-card').forEach(card => {
                    const cardTop = card.getBoundingClientRect().top;
                    
                    if (cardTop < triggerBottom && getComputedStyle(card).display !== 'none') {
                        card.classList.add('visible');
                    }
                });
            }

            // Инициализация страницы
            initShortcuts();
            
            // Обработчик события для поиска
            searchInput.addEventListener('input', function() {
                searchShortcuts(this.value);
                if (this.value.trim()) {
                    clearSearchBtn.style.display = 'block';
                } else {
                    clearSearchBtn.style.display = 'none';
                }
            });
            
            // Очистка поиска
            clearSearchBtn.addEventListener('click', function() {
                searchInput.value = '';
                searchShortcuts('');
                this.style.display = 'none';
                searchInput.focus();
            });
            
            // Проверка карточек при скролле
            window.addEventListener('scroll', checkCards);

            // Глобальная функция для копирования сочетания клавиш
            window.copyShortcut = function(button) {
                const header = button.closest('.shortcut-header');
                const content = header.nextElementSibling;
                const keys = header.textContent.trim();
                const description = content.textContent.trim();
                
                // Создаем текст для копирования
                const textToCopy = `${keys} = ${description}`;
                
                // Копируем в буфер обмена
                const tempElement = document.createElement('textarea');
                tempElement.value = textToCopy;
                document.body.appendChild(tempElement);
                tempElement.select();
                document.execCommand('copy');
                document.body.removeChild(tempElement);
                
                // Показываем уведомление
                const tooltip = button.querySelector('.copy-tooltip');
                tooltip.classList.add('active');
                
                // Скрываем уведомление через 2 секунды
                setTimeout(() => {
                    tooltip.classList.remove('active');
                }, 2000);
            };
        }
    </script>
</body>
</html>
